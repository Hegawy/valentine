<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pasant & Yusuf üíò</title>

<style>
:root{
  --pink:#ff3b7a;
  --card:rgba(255,255,255,0.92);
}

*{box-sizing:border-box;}

body{
  margin:0;
  height:100vh;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  overflow:hidden;
  background:#000;
}

/* ===== BACKGROUND SLIDESHOW ===== */
.bg{
  position:fixed;
  inset:0;
  z-index:-2;
}
.bg::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.35);
  z-index:2;
}
.bg-slide{
  position:absolute;
  inset:-20px;
  background-size:cover;
  background-position:center;
  opacity:0;
  transition:opacity 1.2s ease;
  filter: blur(2px) saturate(1.1);
}
.bg-slide.active{opacity:1;}

/* ===== CARD ===== */
.wrap{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
}

.card{
  width:min(520px,94vw);
  background:var(--card);
  border-radius:22px;
  padding:22px;
  box-shadow:0 18px 50px rgba(0,0,0,0.3);
  position:relative;
}

/* ===== HEADER ===== */
.top{
  display:flex;
  align-items:center;
  gap:14px;
}

h1{
  margin:0;
  font-size:26px;
}

.sub{
  margin-top:6px;
  opacity:.75;
  font-size:14px;
}

/* ===== PROFILE PHOTOS ===== */
.pfps{
  margin-left:auto;
  position:relative;
}

.pfpPair{
  display:flex;
  gap:10px;
  transition:.45s ease;
}

.pfp{
  width:54px;
  height:54px;
  border-radius:50%;
  border:3px solid #fff;
  object-fit:cover;
  box-shadow:0 8px 18px rgba(0,0,0,.25);
}

/* MERGED COUPLE PHOTO */
.pfpCouple{
  width:130px;
  height:56px;
  border-radius:999px;
  overflow:hidden;
  border:3px solid #fff;
  position:absolute;
  top:0;
  right:0;
  opacity:0;
  transform:scale(.7);
  filter:blur(2px);
  transition:.55s ease;
}
.pfpCouple img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* AFTER YES */
.merged .pfpPair{
  opacity:0;
  transform:scale(.5);
  filter:blur(2px);
}
.merged .pfpCouple{
  opacity:1;
  transform:scale(1);
  filter:none;
}

/* ===== TEXT ===== */
.question{
  margin:16px 0;
  font-size:18px;
}

/* ===== BUTTONS ===== */
.btns{
  position:relative;
  height:60px;
}

button{
  padding:12px 18px;
  border-radius:14px;
  border:none;
  font-size:16px;
  cursor:pointer;
}

#yes{
  background:var(--pink);
  color:white;
  font-weight:700;
}

#no{
  position:absolute;
  background:#111;
  color:white;
  right:0;
  top:0;
}

/* ===== RESULT ===== */
.yay{
  display:none;
  margin-top:16px;
  padding:14px;
  border-radius:14px;
  background:#ffe6f0;
}

/* ===== SPOTIFY ===== */
.spotify{
  margin-top:14px;
  border-radius:14px;
  overflow:hidden;
}

/* ===== CONFETTI ===== */
#confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
}
</style>
</head>

<body>

<!-- BACKGROUND -->
<div class="bg">
  <div class="bg-slide active" style="background-image:url('images/bg1.jpeg')"></div>
  <div class="bg-slide" style="background-image:url('images/bg2.jpeg')"></div>
  <div class="bg-slide" style="background-image:url('images/bg3.jpeg')"></div>
  <div class="bg-slide" style="background-image:url('images/bg4.jpeg')"></div>
</div>

<canvas id="confetti"></canvas>

<div class="wrap">
  <div class="card" id="card">

    <div class="top">
      <div>
        <h1 id="title">Will you be my Valentine? üíò</h1>
        <div class="sub">Answer wisely.</div>
      </div>

      <div class="pfps" id="pfps">
        <div class="pfpPair">
          <img class="pfp" src="images/pasant1.jpeg">
          <img class="pfp" src="images/yusuf1.jpeg">
        </div>
        <div class="pfpCouple">
          <img src="images/couple.jpeg">
        </div>
      </div>
    </div>

    <div class="question">
      Pasant‚Ä¶ will you be my Valentine? üåπ
    </div>

    <div class="btns" id="btnArea">
      <button id="yes">Yes üòå</button>
      <button id="no">No üôÇ</button>
    </div>

    <div class="yay" id="yay">
      YAAAAY ‚ù§Ô∏èüéâ<br>
      Pasant & Yusuf ‚Äî officially Valentines.
    </div>

    <div class="spotify">
      <iframe style="border-radius:14px"
        src="https://open.spotify.com/embed/track/7qiZfU4dY1lWllzX7mPBI3"
        width="100%" height="152" frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media">
      </iframe>
    </div>

    <audio id="song" src="song.mp3"></audio>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

<script>
/* BACKGROUND SLIDESHOW */
const slides=document.querySelectorAll(".bg-slide");
let i=0;
setInterval(()=>{
  slides[i].classList.remove("active");
  i=(i+1)%slides.length;
  slides[i].classList.add("active");
},4500);

/* NO BUTTON TELEPORT */
const no=document.getElementById("no");
const area=document.getElementById("btnArea");
function moveNo(){
  const r=area.getBoundingClientRect();
  no.style.left=Math.random()*(r.width-80)+"px";
  no.style.top=Math.random()*(r.height-40)+"px";
}
no.addEventListener("mouseenter",moveNo);
no.addEventListener("click",e=>{e.preventDefault();moveNo();});

/* YES BUTTON */
const yes=document.getElementById("yes");
const yay=document.getElementById("yay");
const pfps=document.getElementById("pfps");
const title=document.getElementById("title");
const song=document.getElementById("song");

const confettiFire=confetti.create(document.getElementById("confetti"),{resize:true});

yes.onclick=async()=>{
  yay.style.display="block";
  title.textContent="Pasant & Yusuf üíò";
  pfps.classList.add("merged");
  no.style.display="none";
  yes.disabled=true;
  yes.textContent="Locked in ‚úÖ";

  confettiFire({particleCount:160,spread:80,origin:{y:.6}});
  setTimeout(()=>confettiFire({particleCount:100,spread:120}),250);

  try{ await song.play(); }catch{}
};
</script>

</body>
</html>
